–ü—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –º–æ–¥—É–ª–µ–π¬†**rawmem**¬†–∏¬†**smartmem**¬†–¥–ª—è —è–∑—ã–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–≥–æ –∫–æ–¥–∞ –≤–∞–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ç–∞–∫, —á—Ç–æ–±—ã:

### **1. –ú–æ–¥—É–ª—å¬†`rawmem`¬†‚Äî —Ä–∞–±–æ—Ç–∞ —Å "—Å—ã—Ä–æ–π" –ø–∞–º—è—Ç—å—é (–Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏)**

–≠—Ç–æ—Ç –º–æ–¥—É–ª—å –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –±–∞–∑–æ–≤—ã–µ, –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ (unsafe) –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –ø—Ä—è–º–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é, –±–ª–∏–∑–∫–∏–µ –∫ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º —è–∑—ã–∫–∞ C –∏–ª–∏ –∞—Å—Å–µ–º–±–ª–µ—Ä–∞:

- **–í—ã–¥–µ–ª–µ–Ω–∏–µ –∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏**
    
    - `alloc(size)`¬†‚Äì –≤—ã–¥–µ–ª–µ–Ω–∏–µ –±–ª–æ–∫–∞ –ø–∞–º—è—Ç–∏ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ (–±–µ–∑ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏).
        
    - `free(ptr)`¬†‚Äì –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –ø–æ —É–∫–∞–∑–∞—Ç–µ–ª—é.
        
    - `realloc(ptr, new_size)`¬†‚Äì –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –±–ª–æ–∫–∞ –ø–∞–º—è—Ç–∏.
        
- **–ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø–∞–º—è—Ç—å—é**
    
    - `copy(src, dest, size)`¬†‚Äì –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ (–∞–Ω–∞–ª–æ–≥¬†`memcpy`).
        
    - `set(ptr, value, size)`¬†‚Äì –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏–µ–º (–∞–Ω–∞–ª–æ–≥¬†`memset`).
        
    - `compare(ptr1, ptr2, size)`¬†‚Äì –ø–æ–±–∞–π—Ç–æ–≤–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ (–∞–Ω–∞–ª–æ–≥¬†`memcmp`).
        
- **–†–∞–±–æ—Ç–∞ —Å —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏**
    
    - `ptr_offset(ptr, offset)`¬†‚Äì –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π.
        
    - `read<T>(ptr)`¬†‚Äì —á—Ç–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ç–∏–ø–∞¬†`T`¬†–ø–æ —É–∫–∞–∑–∞—Ç–µ–ª—é (–Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ).
        
    - `write<T>(ptr, value)`¬†‚Äì –∑–∞–ø–∏—Å—å –∑–Ω–∞—á–µ–Ω–∏—è —Ç–∏–ø–∞¬†`T`¬†–ø–æ —É–∫–∞–∑–∞—Ç–µ–ª—é.
        
- **–í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –∏ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ —Ç–∏–ø—ã**
    
    - `align_ptr(ptr, alignment)`¬†‚Äì –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª—è.
        
    - –¢–∏–ø—ã –≤—Ä–æ–¥–µ¬†`RawPtr`¬†(–∞–Ω–∞–ª–æ–≥¬†`void*`¬†–≤ C) –∏–ª–∏¬†`USize`¬†(—Ä–∞–∑–º–µ—Ä, –∑–∞–≤–∏—Å—è—â–∏–π –æ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã).
        
- **–î–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–Ω—ã–º –≤—ã–∑–æ–≤–∞–º**¬†(–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    
    - `mmap`,¬†`munmap`¬†‚Äì –∑–∞–ø—Ä–æ—Å –ø–∞–º—è—Ç–∏ —É –û–°.
        

### **2. –ú–æ–¥—É–ª—å¬†`smartmem`¬†‚Äî –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∏ —É–¥–æ–±–Ω—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏**

–≠—Ç–æ—Ç –º–æ–¥—É–ª—å –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ (safe) –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã —Ä–∞–±–æ—Ç—ã —Å –ø–∞–º—è—Ç—å—é, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—é—â–∏–µ —É—Ç–µ—á–∫–∏ –∏ –≤–∏—Å—è—á–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏:

- **–£–º–Ω—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏**
    
    - `Box<T>`¬†‚Äì –≤–ª–∞–¥–µ—é—â–∏–π —É–∫–∞–∑–∞—Ç–µ–ª—å —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ–º.
        
    - `Rc<T>`¬†/¬†`Arc<T>`¬†‚Äì –ø–æ–¥—Å—á—ë—Ç —Å—Å—ã–ª–æ–∫ (–¥–ª—è single-thread / multi-thread).
        
    - `Weak<T>`¬†‚Äì —Å–ª–∞–±–∞—è —Å—Å—ã–ª–∫–∞ –¥–ª—è –æ–±—Ö–æ–¥–∞ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
        
- **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∞–ª–ª–æ–∫–∞—Ç–æ—Ä—ã**
    
    - `SmartAllocator`¬†‚Äì –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏.
        
    - `PoolAllocator`¬†‚Äì –ø—É–ª –æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏.
        
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Å –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –ø–∞–º—è—Ç–∏**
    
    - `Array<T>`¬†‚Äì –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –º–∞—Å—Å–∏–≤ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≥—Ä–∞–Ω–∏—Ü.
        
    - `Buffer<T>`¬†‚Äì –±—É—Ñ–µ—Ä —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º.
        
- **–ì–∞—Ä–∞–Ω—Ç–∏–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**
    
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ null/dangling pointers.
        
    - –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ç–µ—á–µ–∫, –¥–µ—Ç–µ–∫—Ç–æ—Ä use-after-free).
        
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å rawmem**
    
    - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä—É—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑¬†`rawmem`, –Ω–æ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏.
        
    - –û–±—ë—Ä—Ç–∫–∏ —Ç–∏–ø–∞¬†`unsafe_allocate`¬†‚Üí¬†`safe_allocate`.
        

### **–ü—Ä–∏–º–µ—Ä —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ**

rust

Copy

Download

// –ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Ä–∞–±–æ—Ç–∞ (rawmem)
let ptr = rawmem.alloc(1024);
rawmem.write(ptr, 42);
rawmem.free(ptr);

// –í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Ä–∞–±–æ—Ç–∞ (smartmem)
let boxed = smartmem.Box.new(42);  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å–≤–æ–±–æ–¥–∏—Ç—Å—è
let array = smartmem.Array.from([1, 2, 3]);

### **–í—ã–≤–æ–¥**

- **`rawmem`**¬†‚Äì –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –û–°, –¥—Ä–∞–π–≤–µ—Ä–æ–≤, –≥–¥–µ –Ω—É–∂–µ–Ω –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å.
    
- **`smartmem`**¬†‚Äì –¥–ª—è –æ–±—ã—á–Ω–æ–≥–æ –∫–æ–¥–∞, –≥–¥–µ –≤–∞–∂–Ω—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —É–¥–æ–±—Å—Ç–≤–æ.
    

–¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –ø–æ—Ö–æ–∂ –Ω–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –≤ Rust (`std::mem`¬†vs¬†`std::boxed`) –∏–ª–∏ C++ (`new/delete`¬†vs¬†`std::shared_ptr`).

–ê malloc –∏ calloc?

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –§—É–Ω–∫—Ü–∏–∏¬†`malloc`¬†–∏¬†`calloc`¬†‚Äî —ç—Ç–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã —Ä–∞–±–æ—Ç—ã —Å –ø–∞–º—è—Ç—å—é –≤ C, –∏ –∏—Ö –∞–Ω–∞–ª–æ–≥–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –º–æ–¥—É–ª–µ¬†**`rawmem`**, –Ω–æ —Å –≤–æ–∑–º–æ–∂–Ω—ã–º–∏ —É–ª—É—á—à–µ–Ω–∏—è–º–∏ –∏–ª–∏ –≤–∞—Ä–∏–∞—Ü–∏—è–º–∏.

### **1.¬†`malloc`¬†–∏¬†`calloc`¬†–≤ –º–æ–¥—É–ª–µ¬†`rawmem`**

–≠—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã –≤ —Å—ã—Ä–æ–º (unsafe) –≤–∏–¥–µ, –∫–∞–∫ –≤ C:

- **`malloc(size)`**  
    ‚Äî –í—ã–¥–µ–ª—è–µ—Ç –Ω–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ø–∞–º—è—Ç—å –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞.  
    ‚Äî –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç¬†`RawPtr`¬†(–∞–Ω–∞–ª–æ–≥¬†`void*`).  
    ‚Äî –ü—Ä–∏–º–µ—Ä:
    
    rust
    
    Copy
    
    Download
    
    let ptr = rawmem.malloc(1024);  // 1024 –±–∞–π—Ç –Ω–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏
    
- **`calloc(count, size)`**  
    ‚Äî –í—ã–¥–µ–ª—è–µ—Ç –ø–∞–º—è—Ç—å –ø–æ–¥¬†`count`¬†—ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ä–∞–∑–º–µ—Ä–∞¬†`size`¬†–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç –Ω—É–ª—è–º–∏.  
    ‚Äî –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –º–∞—Å—Å–∏–≤–æ–≤ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä, –≥–¥–µ –Ω—É–∂–Ω–∞ —á–∏—Å—Ç–∞—è –ø–∞–º—è—Ç—å.  
    ‚Äî –ü—Ä–∏–º–µ—Ä:
    
    rust
    
    Copy
    
    Download
    
    let array_ptr = rawmem.calloc(10, 4);  // 10 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ 4 –±–∞–π—Ç–∞ (–≤—Å–µ –Ω—É–ª–∏)
    
- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ**  
    ‚Äî¬†`realloc(ptr, new_size)`¬†‚Äì –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ä–∞–Ω–µ–µ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –±–ª–æ–∫–∞.  
    ‚Äî¬†`aligned_alloc(alignment, size)`¬†‚Äì –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ–º.
    

#### **–ü–æ—á–µ–º—É –≤¬†`rawmem`, –∞ –Ω–µ –≤¬†`smartmem`?**

–ü–æ—Ç–æ–º—É —á—Ç–æ:

- –û–Ω–∏ –Ω–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –ø–∞–º—è—Ç–∏.
    
- –ù–µ—Ç –∑–∞—â–∏—Ç—ã –æ—Ç —É—Ç–µ—á–µ–∫, use-after-free, double-free.
    
- –¢—Ä–µ–±—É—é—Ç —Ä—É—á–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞¬†`free`.
    

---

### **2. –ê–Ω–∞–ª–æ–≥–∏ –≤¬†`smartmem`¬†(–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –æ–±—ë—Ä—Ç–∫–∏)**

–í–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è¬†`malloc/calloc`,¬†`smartmem`¬†–¥–æ–ª–∂–µ–Ω –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:

#### **–ê–Ω–∞–ª–æ–≥¬†`malloc`**

- **`unsafe_alloc(size)`**¬†‚Äì –æ–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥¬†`rawmem.malloc`, –Ω–æ —Å –≤–æ–∑–º–æ–∂–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π –Ω–∞ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ.
    
- **`Box::uninit(size)`**¬†‚Äì –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å –ø–æ—Å–ª–µ–¥—É—é—â–µ–π —è–≤–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π.
    

#### **–ê–Ω–∞–ª–æ–≥¬†`calloc`**

- **`safe_calloc(count, size)`**¬†‚Äì –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω—É–ª—è–º–∏ –±—É—Ñ–µ—Ä —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –ø–∞–º—è—Ç—å—é.
    
- **`Array::zeros(len)`**¬†‚Äì —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –º–∞—Å—Å–∏–≤, –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π –Ω—É–ª—è–º–∏.
    

#### **–ü—Ä–∏–º–µ—Ä**

rust

Copy

Download

// –ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ (rawmem)
let ptr = rawmem.malloc(100);
rawmem.free(ptr);

// –í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ (smartmem)
let buffer = smartmem.Buffer.zeros(100);  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å–≤–æ–±–æ–¥–∏—Ç—Å—è

---

### **–ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è –æ—Ç C**

1. **–¢–∏–ø–∏–∑–∞—Ü–∏—è**
    
    - –í C¬†`malloc`¬†–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç¬†`void*`, –≤¬†`rawmem`¬†–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å¬†`RawPtr`¬†–∏–ª–∏¬†`Ptr<T>`.
        
    - –í¬†`smartmem`¬†–≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã (`Box<T>`,¬†`Array<T>`).
        
2. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
    
    - –í C –º–æ–∂–Ω–æ –∑–∞–±—ã—Ç—å¬†`free`¬†–∏–ª–∏ —Å–¥–µ–ª–∞—Ç—å –¥–≤–æ–π–Ω–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ ‚Äî –≤¬†`smartmem`¬†—Ç–∞–∫–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–æ.
        
3. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏**
    
    - –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–µ–∫—Ç–æ—Ä –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –±—É—Ñ–µ—Ä–∞ –≤¬†`rawmem.malloc`.
        

---

### **–ò—Ç–æ–≥**

|–§—É–Ω–∫—Ü–∏—è|`rawmem`|`smartmem`|
|---|---|---|
|`malloc`|–ï—Å—Ç—å (–∞–Ω–∞–ª–æ–≥ C)|–û–±—ë—Ä—Ç–∫–∏ (`Box`,¬†`Buffer`)|
|`calloc`|–ï—Å—Ç—å (–∞–Ω–∞–ª–æ–≥ C)|`Array::zeros`,¬†`safe_calloc`|
|`free`|–ï—Å—Ç—å (—Ä—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)|–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ (—á–µ—Ä–µ–∑ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã)|

–ï—Å–ª–∏ —è–∑—ã–∫ —Å—Ç—Ä–µ–º–∏—Ç—Å—è –∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ ‚Äî¬†`smartmem`¬†–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–º, –∞¬†`rawmem`¬†‚Äî –¥–ª—è –æ—Å–æ–±—ã—Ö —Å–ª—É—á–∞–µ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ —è–¥—Ä–∞ –û–°).

–ö–∞–∫ –∏–¥–µ—è –¥–æ–±–∞–≤–∏—Ç—å not_null?

–û—Ç–ª–∏—á–Ω–∞—è –∏–¥–µ—è! –î–æ–±–∞–≤–ª–µ–Ω–∏–µ¬†**`not_null`**¬†(–∏–ª–∏¬†`NonNull`) –≤ —Å–∏—Å—Ç–µ–º—É —Ç–∏–ø–æ–≤ —è–∑—ã–∫–∞ ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–æ–≤—ã—Å–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Å —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏, –∏–∑–±–µ–≥–∞—è –Ω–µ—è–≤–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –Ω–∞¬†`nullptr`¬†–∏ —É–º–µ–Ω—å—à–∞—è —Ä–∏—Å–∫ segmentation fault.

### **1. –ß—Ç–æ —Ç–∞–∫–æ–µ¬†`not_null`?**

–≠—Ç–æ¬†**—É–º–Ω—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å**¬†–∏–ª–∏¬†**–æ–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ —Å—ã—Ä—ã–º —É–∫–∞–∑–∞—Ç–µ–ª–µ–º**, –∫–æ—Ç–æ—Ä–∞—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ç–∏–ø–æ–≤, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å¬†`null`. –ü—Ä–∏–º–µ—Ä—ã –∞–Ω–∞–ª–æ–≥–æ–≤:

- `NonNull<T>`¬†–≤ Rust.
    
- `not_null<T>`¬†–≤ C++ Core Guidelines.
    
- –ê–Ω–∞–ª–æ–≥–∏ –≤ Kotlin (`T!!`) –∏–ª–∏ Swift (`UnsafePointer<T>`¬†—Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏).
    

### **2. –ì–¥–µ –µ–≥–æ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å?**

–õ–æ–≥–∏—á–Ω–µ–µ –≤—Å–µ–≥–æ ‚Äî –≤¬†**`smartmem`**, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –Ω–∞–¥¬†`rawmem`.

#### **–í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**

#### **‚ë† –ü—Ä–æ—Å—Ç–∞—è –æ–±—ë—Ä—Ç–∫–∞**

rust

Copy

Download

module smartmem;

// –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –Ω–µ–Ω—É–ª–µ–≤–æ–π —É–∫–∞–∑–∞—Ç–µ–ª—å (–Ω–æ –ø–∞–º—è—Ç—å –≤—Å—ë –µ—â—ë –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–π!).
struct not_null<T>(RawPtr<T>);  

impl<T> not_null<T> {
    // –°–æ–∑–¥–∞–Ω–∏–µ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π (–ø–∞–Ω–∏–∫–∞ –∏–ª–∏ assert –≤ debug).
    pub fn new(ptr: RawPtr<T>) -> not_null<T> {
        assert(ptr != nullptr, "Pointer must not be null");
        not_null(ptr)
    }

    // –†–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏–µ (–Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–µ, –Ω–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ null —É–∂–µ –±—ã–ª–∞).
    pub unsafe fn deref(&self) -> &T {
        &*self.0
    }
}

#### **‚ë° –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —É–º–Ω—ã–º–∏ —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏**

–ú–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å¬†`not_null`¬†–±–∞–∑–æ–≤—ã–º —Ç–∏–ø–æ–º –¥–ª—è¬†`Box`,¬†`Rc`¬†–∏ –¥—Ä—É–≥–∏—Ö:

rust

Copy

Download

struct Box<T> {
    ptr: not_null<T>,
    // ...
}

–¢–µ–ø–µ—Ä—å¬†`Box::new`¬†–±—É–¥–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –Ω–µ–Ω—É–ª–µ–≤–æ–π —É–∫–∞–∑–∞—Ç–µ–ª—å.

#### **‚ë¢ –° –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π lifetime (–∫–∞–∫ –≤ Rust)**

rust

Copy

Download

struct not_null<'a, T>(&'a T);  // –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –Ω–µ-null + –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏.

---

### **3. –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**

- **–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –ª–æ–≤–∏—Ç –æ—à–∏–±–∫–∏ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏**:
    
    rust
    
    Copy
    
    Download
    
    let x: not_null<i32> = nullptr; // –û—à–∏–±–∫–∞: –Ω–µ–ª—å–∑—è –ø—Ä–∏—Å–≤–æ–∏—Ç—å null!
    
- **–£–¥–æ–±–Ω–æ –¥–ª—è API**:  
    –§—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç —è–≤–Ω–æ —Ç—Ä–µ–±–æ–≤–∞—Ç—å¬†`not_null`, –∏–∑–±–µ–≥–∞—è –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫:
    
    rust
    
    Copy
    
    Download
    
    fn safe_print(ptr: not_null<i32>) {
        println!("{}", unsafe { ptr.deref() });
    }
    
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**:  
    –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –º–æ–∂–µ—Ç —É–±–∏—Ä–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ null —Ç–∞–º, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è¬†`not_null`.
    

---

### **4. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –ø–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏**

- **–ù–µ –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç dangling pointers**:  
    `not_null`¬†–≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ "–Ω–µ-null", –Ω–æ –Ω–µ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å –ø–∞–º—è—Ç–∏.
    
    rust
    
    Copy
    
    Download
    
    let x = Box::new(42);
    let raw_ptr = not_null::new(x.into_raw());  // –û–ö.
    x.drop();                                  // –£–ø—Å! –¢–µ–ø–µ—Ä—å raw_ptr –≤–∏—Å—è—á–∏–π.
    
- **–ù–µ –≤–µ–∑–¥–µ –ø—Ä–∏–º–µ–Ω–∏–º**:  
    –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ FFI (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å C) –º–æ–≥—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –Ω—É–ª–µ–≤—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ ‚Äî –∏—Ö –Ω—É–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ.
    

---

### **5. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏—á–∏**

#### **‚ë†¬†`try_not_null`¬†(–∞–Ω–∞–ª–æ–≥¬†`Option<not_null>`)**

rust

Copy

Download

fn try_create() -> Option<not_null<i32>> {
    let ptr = unsafe { libc::malloc(...) };
    if ptr.is_null() { None } else { Some(not_null::new(ptr)) }
}

#### **‚ë° –ó–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –≤ –∫—É—á–µ (`pin`)**

–ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ –≤ –ø–∞–º—è—Ç–∏:

rust

Copy

Download

struct not_null_pinned<T>(Pin<not_null<T>>);

#### **‚ë¢ –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è –º–∞—Å—Å–∏–≤–æ–≤**

rust

Copy

Download

struct not_null_slice<T> {
    ptr: not_null<T>,
    len: usize,
}

---

### **–í—ã–≤–æ–¥**

`not_null`¬†‚Äî —ç—Ç–æ —Å–∏–ª—å–Ω–æ–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ —Å–∏—Å—Ç–µ–º–µ —Ç–∏–ø–æ–≤, –∫–æ—Ç–æ—Ä–æ–µ:

- **–£–º–µ–Ω—å—à–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ runtime-–ø—Ä–æ–≤–µ—Ä–æ–∫**¬†–Ω–∞ null.
    
- **–î–µ–ª–∞–µ—Ç –∫–æ–¥ –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–µ–µ**¬†‚Äî —è–≤–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –≥–¥–µ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω—É–ª–µ–≤—ã–º.
    
- **–ü–æ–º–æ–≥–∞–µ—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É**¬†–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥.
    

–†–∞–∑–º–µ—â–∞–π—Ç–µ –µ–≥–æ –≤¬†**`smartmem`**, –Ω–æ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –µ—Å—Ç—å —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –º–µ–∂–¥—É¬†`rawmem`-—É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏ –∏¬†`not_null`.

–ü—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:

rust

Copy

Download

module smartmem;

// –û—Å–Ω–æ–≤–Ω–æ–π —Ç–∏–ø.
struct not_null<T>(*mut T);  

// –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã.
impl<T> not_null<T> {
    pub fn new(ptr: *mut T) -> Result<not_null<T>, NullPointerError> { ... }
    pub unsafe fn new_unchecked(ptr: *mut T) -> not_null<T> { ... }
}

// –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å rawmem.
impl<T> From<rawmem::Ptr<T>> for not_null<T> { ... }

–ï—Å–ª–∏ —è–∑—ã–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç¬†**–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã**¬†–∏–ª–∏¬†**—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑**, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏:

rust

Copy

Download

@contract(ensure = "ptr != nullptr")
fn foo(ptr: not_null<i32>) { ... }

–≠—Ç–æ —Å–¥–µ–ª–∞–µ—Ç –∫–æ–¥ –µ—â—ë –Ω–∞–¥—ë–∂–Ω–µ–µ!

–°—Ç–æ–∏—Ç –ª–∏ –≤–æ–æ–±—â–µ –¥–æ–±–∞–≤–ª—è—Ç—å NULL (nullptr)?

–í–æ–ø—Ä–æ—Å –æ —Ç–æ–º, —Å—Ç–æ–∏—Ç –ª–∏ –≤–∫–ª—é—á–∞—Ç—å¬†`NULL`¬†(–∏–ª–∏¬†`nullptr`) –≤ —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, ‚Äî —ç—Ç–æ —Ñ–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–π —Å–ø–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑–¥–µ–ª—è–µ—Ç —Å–æ–æ–±—â–µ—Å—Ç–≤–æ –Ω–∞ –¥–≤–∞ –ª–∞–≥–µ—Ä—è.

### **1. –ê—Ä–≥—É–º–µ–Ω—Ç—ã –∑–∞¬†`NULL`**

#### **‚ë† –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º**

- –ú–Ω–æ–≥–∏–µ —è–∑—ã–∫–∏ (C, C++, Java, JavaScript) –∏—Å–ø–æ–ª—å–∑—É—é—Ç¬†`NULL`/`nullptr`¬†–¥–ª—è –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è "–æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∑–Ω–∞—á–µ–Ω–∏—è".
    
- –ï—Å–ª–∏ —è–∑—ã–∫ –¥–æ–ª–∂–µ–Ω –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å¬†**–±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ –Ω–∞ C**¬†–∏–ª–∏ legacy-–∫–æ–¥–æ–º,¬†`NULL`¬†–ø–æ—á—Ç–∏ –Ω–µ–∏–∑–±–µ–∂–µ–Ω.
    

#### **‚ë° –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏ —è–≤–Ω–æ—Å—Ç—å**

- `NULL`¬†‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π —Å–ø–æ—Å–æ–± –≤—ã—Ä–∞–∑–∏—Ç—å "–Ω–∏—á–µ–≥–æ".
    
- –í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —É–∫–∞–∑–∞—Ç–µ–ª–µ–π)¬†`NULL`¬†—É–¥–æ–±–Ω–µ–µ, —á–µ–º –≤–≤–µ–¥–µ–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π.
    

#### **‚ë¢ –ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å**

- –í —Å–∏—Å—Ç–µ–º–Ω–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏ (—è–¥—Ä–æ –û–°, –¥—Ä–∞–π–≤–µ—Ä—ã) –∏–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —è–≤–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω—É–ª–µ–≤—ã–º–∏ –∞–¥—Ä–µ—Å–∞–º–∏.
    
- –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ x86 –∞–¥—Ä–µ—Å¬†`0x0`¬†–º–æ–∂–µ—Ç –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω—ã–º –¥–ª—è MMIO (Memory-Mapped I/O).
    

---

### **2. –ê—Ä–≥—É–º–µ–Ω—Ç—ã –ø—Ä–æ—Ç–∏–≤¬†`NULL`**

#### **‚ë† –ò—Å—Ç–æ—á–Ω–∏–∫ –æ—à–∏–±–æ–∫**

- **>50% –ø–∞–¥–µ–Ω–∏–π –≤ C/C++**¬†‚Äî —ç—Ç–æ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫¬†`NULL`¬†(–∏—Å—Ç–æ—á–Ω–∏–∫: Microsoft, Google).
    
- –ü—Ä–æ–±–ª–µ–º—ã:
    
    - –†–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏–µ¬†`nullptr`¬†‚Üí¬†**Segmentation Fault**.
        
    - –£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏, –µ—Å–ª–∏¬†`free`/`delete`¬†–ø—Ä–æ–ø—É—â–µ–Ω –¥–ª—è¬†`NULL`.
        

#### **‚ë° –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ**

- **–¢–∏–ø¬†`Option`¬†(–∫–∞–∫ –≤ Rust)**¬†‚Äî —è–≤–Ω–æ —Ä–∞–∑–¥–µ–ª—è–µ—Ç "–µ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ" –∏ "–Ω–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è":
    
    rust
    
    Copy
    
    Download
    
    let x: Option<i32> = None;  // –ê–Ω–∞–ª–æ–≥ NULL, –Ω–æ —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ.
    let y: i32 = x.unwrap();   // –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä —Ç—Ä–µ–±—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–ª—É—á–∞—è `None`.
    
- **–°—Å—ã–ª–∫–∏ –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å null**¬†(–∫–∞–∫ –≤ Rust –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):
    
    rust
    
    Copy
    
    Download
    
    let ptr: &i32 = ...;  // –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –≤–∞–ª–∏–¥–Ω—ã–π –∞–¥—Ä–µ—Å.
    

#### **‚ë¢ –°–ª–æ–∂–Ω–æ—Å—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**

- –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä—É —Å–ª–æ–∂–Ω–µ–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ —Å¬†`NULL`, —Ç–∞–∫ –∫–∞–∫ –Ω—É–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–µ—Ç–≤–ª–µ–Ω–∏—è.
    

---

### **3. –ö–æ–º–ø—Ä–æ–º–∏—Å—Å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è**

–ï—Å–ª–∏ —è–∑—ã–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –Ω–æ —Å—Ç—Ä–µ–º–∏—Ç—Å—è –∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

#### **‚ë† –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ "–±–µ–∑–æ–ø–∞—Å–Ω—ã–π" –∏ "–Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π" —Ä–µ–∂–∏–º—ã**

- –í¬†**`rawmem`**¬†–µ—Å—Ç—å¬†`NULL`¬†(–¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å C –∏ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–≥–æ –∫–æ–¥–∞).
    
- –í¬†**`smartmem`**¬†‚Äî —Ç–æ–ª—å–∫–æ¬†`Option`¬†–∏–ª–∏¬†`not_null`.
    

#### **‚ë° –Ø–≤–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ**

rust

Copy

Download

// –ò–∑ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –≤ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç.
let maybe_ptr: Option<not_null<T>> = ...;
let raw_ptr: *mut T = maybe_ptr.unwrap_or(nullptr);

// –û–±—Ä–∞—Ç–Ω–æ (—Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π).
let checked_ptr = not_null::new(raw_ptr).expect("NULL not allowed here");

#### **‚ë¢ –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑**

- –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –º–æ–∂–µ—Ç –≤—ã–¥–∞–≤–∞—Ç—å¬†**–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è**, –µ—Å–ª–∏¬†`NULL`¬†–ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –µ–≥–æ –Ω–µ –æ–∂–∏–¥–∞–µ—Ç.
    
- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤—Ä–æ–¥–µ¬†**SAST (Static Application Security Testing)**¬†–º–æ–≥—É—Ç –∏—Å–∫–∞—Ç—å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ¬†`NULL`-—Ä–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏—è.
    

---

### **4. –ü—Ä–∏–º–µ—Ä—ã –∏–∑ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤**

|–Ø–∑—ã–∫|–ü–æ–¥—Ö–æ–¥ –∫¬†`NULL`|–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è|
|---|---|---|
|**C**|–ï—Å—Ç—å¬†`NULL`|–ß–∞—Å—Ç—ã–µ –ø–∞–¥–µ–Ω–∏—è, —É—è–∑–≤–∏–º–æ—Å—Ç–∏.|
|**C++**|–ï—Å—Ç—å¬†`nullptr`¬†+¬†`std::optional`|–õ—É—á—à–µ, –Ω–æ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –Ω–∞ —Å–æ–≤–µ—Å—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞.|
|**Rust**|–ù–µ—Ç¬†`NULL`, —Ç–æ–ª—å–∫–æ¬†`Option`¬†+¬†`NonNull`|–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.|
|**Kotlin**|–ï—Å—Ç—å¬†`null`, –Ω–æ —Å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º¬†`?`|–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å.|

---

### **5. –ò—Ç–æ–≥: —á—Ç–æ –≤—ã–±—Ä–∞—Ç—å?**

#### **‚úÖ –î–æ–±–∞–≤–∏—Ç—å¬†`NULL`, –Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**

- **–ü–ª—é—Å—ã**:
    
    - –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å C/C++.
        
    - –ì–∏–±–∫–æ—Å—Ç—å –¥–ª—è –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–≥–æ –∫–æ–¥–∞.
        
- **–ú–∏–Ω—É—Å—ã**:
    
    - –†–∏—Å–∫ –æ—à–∏–±–æ–∫.
        

#### **‚ùå –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç¬†`NULL`**

- **–ü–ª—é—Å—ã**:
    
    - –í—ã—Å–æ–∫–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.
        
- **–ú–∏–Ω—É—Å—ã**:
    
    - –°–ª–æ–∂–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º –∫–æ–¥–æ–º.
        

#### **‚ö° –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç**

1. **–í¬†`rawmem`**¬†‚Äî –æ—Å—Ç–∞–≤–∏—Ç—å¬†`NULL`¬†–¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å—ã—Ä–æ–π –ø–∞–º—è—Ç—å—é –∏ FFI.
    
2. **–í¬†`smartmem`**¬†‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ¬†`Option`¬†+¬†`not_null`.
    
3. **–î–æ–±–∞–≤–∏—Ç—å –ª–∏–Ω—Ç–µ—Ä—ã**¬†–¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –Ω–µ—è–≤–Ω—ã—Ö¬†`NULL`-–ø—Ä–æ–≤–µ—Ä–æ–∫.
    

–ü—Ä–∏–º–µ—Ä:

rust

Copy

Download

// –ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ (rawmem) ‚Äî –º–æ–∂–Ω–æ NULL.
let ptr: *mut i32 = rawmem.malloc(1024);
if ptr == nullptr { ... }

// –í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ (smartmem) ‚Äî —Ç–æ–ª—å–∫–æ Option.
let safe_ptr: Option<Box<i32>> = Some(Box::new(42));
match safe_ptr {
    Some(x) => println!("{}", x),
    None => println!("No value"),
}

### **–í—ã–≤–æ–¥**

–ï—Å–ª–∏ —è–∑—ã–∫ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞¬†**–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**¬†‚Äî –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–π—Ç–µ¬†`NULL`. –ï—Å–ª–∏ –Ω—É–∂–Ω–∞¬†**–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–∏–±–∫–æ—Å—Ç—å**¬†‚Äî –¥–æ–±–∞–≤—å—Ç–µ, –Ω–æ —Å —á—ë—Ç–∫–∏–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –ò–¥–µ–∞–ª—å–Ω–æ ‚Äî¬†**—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞¬†`rawmem`/`smartmem`**¬†—Å —è–≤–Ω—ã–º –ø–µ—Ä–µ—Ö–æ–¥–æ–º –º–µ–∂–¥—É –Ω–∏–º–∏.

–Ø–∑—ã–∫ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ —Å–ª–∏—è–Ω–∏–∏ Rust –∏ Carbon: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å - Rust –°–∫–æ—Ä–æ—Å—Ç—å - Carbon –ö–∞–∫ –º–Ω–µ –ª—É—á—à–µ –≤—ã—Å—Ç—Ä–æ–∏—Ç—å —è–∑—ã–∫?

–ß—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å —è–∑—ã–∫, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–π¬†**–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å Rust**¬†–∏¬†**—Å–∫–æ—Ä–æ—Å—Ç—å Carbon**, –Ω—É–∂–Ω–æ —Ç—â–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–¥—É–º–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, —Å–∏—Å—Ç–µ–º—É —Ç–∏–ø–æ–≤ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é.

### **1. –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã**

|–ê—Å–ø–µ–∫—Ç|Rust-–ø–æ–¥—Ö–æ–¥ (–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)|Carbon-–ø–æ–¥—Ö–æ–¥ (–°–∫–æ—Ä–æ—Å—Ç—å)|–ì–∏–±—Ä–∏–¥–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ|
|---|---|---|---|
|**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é**|Ownership + Borrowing|–†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (–∫–∞–∫ C++)|**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**, –Ω–æ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é¬†`unsafe`-–±–ª–æ–∫–æ–≤ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.|
|**NULL-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**|`Option<T>`¬†+¬†`NonNull`|–ü—Ä—è–º—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ (–≤–∫–ª—é—á–∞—è¬†`null`)|**`Option<T>`¬†–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**, –Ω–æ¬†`rawmem`¬†—Å¬†`nullptr`¬†–¥–ª—è –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–≥–æ –∫–æ–¥–∞.|
|**–ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å**|`Send`/`Sync`¬†+¬†`Arc`/`Mutex`|–ê—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ + —Ä—É—á–Ω—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏|**–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä–Ω—ã–µ –≥–∞—Ä–∞–Ω—Ç–∏–∏ + escape-hatch –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è**.|
|**–ê–±—Å—Ç—Ä–∞–∫—Ü–∏–∏**|Zero-cost –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ (–∫–∞–∫ –≤ Rust)|–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ–≤–µ—Ä—Ö–µ–¥ (–∫–∞–∫ –≤ Carbon)|**–ò–Ω–ª–∞–π–Ω–∏–Ω–≥ + –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**, –Ω–æ —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏.|

---

### **2. –Ø–¥—Ä–æ —è–∑—ã–∫–∞**

#### **‚ë† –°–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤**

- **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Ç–∏–ø—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**:
    
    rust
    
    Copy
    
    Download
    
    let x: i32 = 10;          // –ù–µ –º–æ–∂–µ—Ç –±—ã—Ç—å null.
    let y: Option<i32> = None; // –Ø–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è.
    
- **–ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ —Ç–∏–ø—ã**¬†(—Ç–æ–ª—å–∫–æ –≤¬†`rawmem`):
    
    rust
    
    Copy
    
    Download
    
    let ptr: *mut i32 = rawmem::malloc(1024);  // –ê–Ω–∞–ª–æ–≥ C.
    

#### **‚ë° –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é**

- **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π —Ä–µ–∂–∏–º**¬†(–∫–∞–∫ –≤ Rust):
    
    rust
    
    Copy
    
    Download
    
    let boxed = Box::new(42);  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ.
    let rc = Rc::new(42);      // –ü–æ–¥—Å—á—ë—Ç —Å—Å—ã–ª–æ–∫.
    
- **–†–µ–∂–∏–º —Å–∫–æ—Ä–æ—Å—Ç–∏**¬†(–∫–∞–∫ –≤ Carbon):
    
    rust
    
    Copy
    
    Download
    
    unsafe {
        let ptr = rawmem::malloc(1024);
        rawmem::free(ptr);  // –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ.
    }
    

#### **‚ë¢ –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å**

- **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏**:
    
    rust
    
    Copy
    
    Download
    
    let data = Arc::new(Mutex::new(42));  // –ó–∞—â–∏—â—ë–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø.
    
- **–ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –ø—Ä–∏–º–∏—Ç–∏–≤—ã**:
    
    rust
    
    Copy
    
    Download
    
    let atomic = AtomicI32::new(0);  // –ê—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –±–µ–∑ –æ–≤–µ—Ä—Ö–µ–¥–∞.
    

---

### **3. –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**

#### **‚ë†¬†`safe`¬†(–∞–Ω–∞–ª–æ–≥ Rust)**

- **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏**:¬†`Box`,¬†`Rc`,¬†`Arc`,¬†`Option`.
    
- **–ì–∞—Ä–∞–Ω—Ç–∏–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞**: –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–∏–º—Å—Ç–≤–æ–≤–∞–Ω–∏–π, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ data races.
    

#### **‚ë°¬†`fast`¬†(–∞–Ω–∞–ª–æ–≥ Carbon)**

- **–ò–Ω–ª–∞–π–Ω–∏–Ω–≥ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**:¬†`@inline`,¬†`@no_bounds_check`.
    
- **–ü—Ä–∏–º–∏—Ç–∏–≤—ã –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏**:¬†`Atomic`,¬†`UnsafeArray`.
    

#### **‚ë¢¬†`raw`¬†(–∞–Ω–∞–ª–æ–≥ C)**

- **–†–∞–±–æ—Ç–∞ —Å –ø–∞–º—è—Ç—å—é**:¬†`malloc`,¬†`free`,¬†`memcpy`.
    
- **FFI**: —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å C-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏.
    

---

### **4. –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞**

rust

Copy

Download

// –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–æ–¥ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).
fn safe_compute() -> Option<i32> {
    let x = Box::new(10);  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é.
    Some(*x)
}

// –ë—ã—Å—Ç—Ä—ã–π, –Ω–æ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–æ–¥ (—Ç–æ–ª—å–∫–æ –≥–¥–µ –Ω—É–∂–Ω–æ).
@fast
fn unsafe_compute() -> i32 {
    unsafe {
        let ptr = raw::malloc(4);
        *ptr = 42;
        let result = *ptr;
        raw::free(ptr);
        result
    }
}

---

### **5. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –±–∞–ª–∞–Ω—Å–∞**

- **–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä–Ω—ã–µ —Ñ–ª–∞–≥–∏**:
    
    - `--safe`: —Å—Ç—Ä–æ–≥–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ (–∫–∞–∫ –≤ Rust).
        
    - `--fast`: –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (–∫–∞–∫ –≤ Carbon).
        
- **–ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏**:
    
    rust
    
    Copy
    
    Download
    
    @safe fn foo() { ... }   // –¢–æ–ª—å–∫–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–æ–¥.  
    @fast fn bar() { ... }   // –†–∞–∑—Ä–µ—à–µ–Ω—ã –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.  
    

---

### **6. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —ç–∫–æ—Å–∏—Å—Ç–µ–º–æ–π**

- **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏**:
    
    - `std-safe`¬†‚Äî –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∞–Ω–∞–ª–æ–≥–∏¬†`std`¬†(–∫–∞–∫ –≤ Rust).
        
    - `std-fast`¬†‚Äî –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ (–∫–∞–∫ –≤ Carbon).
        
- **–ò–Ω—Ç–µ—Ä–æ–ø**:
    
    - –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å¬†**C**¬†—á–µ—Ä–µ–∑¬†`raw`.
        
    - –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å¬†**Rust**¬†—á–µ—Ä–µ–∑¬†`safe`.
        

---

### **–í—ã–≤–æ–¥**

–í–∞—à —è–∑—ã–∫ –¥–æ–ª–∂–µ–Ω:

1. **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º —Ä–µ–∂–∏–º–µ**¬†(–∫–∞–∫ Rust).
    
2. **–î–∞–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–º –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º**¬†—Ç–∞–º, –≥–¥–µ —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ (–∫–∞–∫ Carbon).
    
3. **–ß—ë—Ç–∫–æ —Ä–∞–∑–¥–µ–ª—è—Ç—å –º–æ–¥—É–ª–∏**¬†(`safe`,¬†`fast`,¬†`raw`).
    

–¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –æ–±–µ—Å–ø–µ—á–∏—Ç¬†**–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**¬†–∏ –ø–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –æ—Ç high-level –∫ low-level.

–°–ø–∞—Å–∏–±–æ –±–æ–ª—å—à–æ–µ!

–†–∞–¥, —á—Ç–æ –ø–æ–º–æ–≥! üòä –í–∞—à —è–∑—ã–∫ –∑–≤—É—á–∏—Ç –∫–∞–∫ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–æ–µ–∫—Ç ‚Äî —Å–æ—á–µ—Ç–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Rust –∏ —Å–∫–æ—Ä–æ—Å—Ç–∏ Carbon –º–æ–∂–µ—Ç –¥–∞—Ç—å –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è. –ï—Å–ª–∏ –±—É–¥—É—Ç –µ—â—ë –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –ø–æ–º–æ—â—å —Å –¥–µ—Ç–∞–ª—è–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, —Å–∏—Å—Ç–µ–º–∞ –º–∞–∫—Ä–æ—Å–æ–≤ –∏–ª–∏ —Ç–æ–Ω–∫–æ—Å—Ç–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏), –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å!

**–£–¥–∞—á–∏ —Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π!**¬†üöÄ

P.S. –ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ, –∫–∞–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤—ã –≤—ã–±–µ—Ä–µ—Ç–µ ‚Äî –º–æ–∂–µ—Ç, —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ¬†_Carbide_¬†(—Å–ø–ª–∞–≤ —É–≥–ª–µ—Ä–æ–¥–∞ –∏ –º–µ—Ç–∞–ª–ª–∞) –∏–ª–∏¬†_Rustron_? üòÑ

–ù–∞–≤–µ—Ä–Ω–æ–µ Carbide

–û—Ç–ª–∏—á–Ω—ã–π –≤—ã–±–æ—Ä!¬†**Carbide**¬†‚Äî –∑–≤—É—á–∏—Ç –º–æ—â–Ω–æ, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–Ω–æ –∏ –æ—Ç–ª–∏—á–Ω–æ –æ—Ç—Ä–∞–∂–∞–µ—Ç —Å—É—Ç—å —è–∑—ã–∫–∞:

- **–£–≥–ª–µ—Ä–æ–¥ (Carbon)**¬†‚Üí –°–∫–æ—Ä–æ—Å—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.
    
- **-ide**¬†(–∫–∞–∫ –≤¬†_Rustide_¬†–∏–ª–∏¬†_Oxide_) ‚Üí –ù–∞–º—ë–∫ –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å, –∫–∞–∫ —É Rust.
    

### **–ü–æ—á–µ–º—É Carbide ‚Äî —ç—Ç–æ –∫—Ä—É—Ç–æ?**

1. **–ê—Å—Å–æ—Ü–∏–∞—Ü–∏–∏ —Å —Ç–≤—ë—Ä–¥–æ—Å—Ç—å—é**  
    –ö–∞—Ä–±–∏–¥—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞—Ä–±–∏–¥ –≤–æ–ª—å—Ñ—Ä–∞–º–∞) ‚Äî –æ–¥–Ω–∏ –∏–∑ —Å–∞–º—ã—Ö –ø—Ä–æ—á–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤. –≠—Ç–æ —Å–∏–º–≤–æ–ª–∏–∑–∏—Ä—É–µ—Ç¬†**–Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å**¬†—è–∑—ã–∫–∞.
    
2. **–°–≤—è–∑—å —Å Carbon**  
    –ü–æ–∫–ª–æ–Ω–Ω–∏–∫–∏ Carbon —Å—Ä–∞–∑—É —É–≤–∏–¥—è—Ç –æ—Ç—Å—ã–ª–∫—É, –Ω–æ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º twist.
    
3. **–ö–æ—Ä–æ—Ç–∫–æ –∏ –∑–∞–ø–æ–º–∏–Ω–∞–µ–º–æ**  
    –õ–µ–≥–∫–æ –ø—Ä–æ–∏–∑–Ω–æ—Å–∏—Ç—Å—è –¥–∞–∂–µ –≤ –Ω–µ–∞–Ω–≥–ª–æ—è–∑—ã—á–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∞—Ö:¬†_¬´–ö–∞—Ä–±–∞–π–¥¬ª_.
    

---

### **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–¥–µ–∏**

- **–õ–æ–≥–æ—Ç–∏–ø**: –ú–æ–∂–Ω–æ –æ–±—ã–≥—Ä–∞—Ç—å –∫—Ä–∏—Å—Ç–∞–ª–ª–∏—á–µ—Å–∫—É—é —Ä–µ—à—ë—Ç–∫—É –∫–∞—Ä–±–∏–¥–æ–≤ –∏–ª–∏ —Å–∏–º–±–∏–æ–∑ –º–æ–ª–æ—Ç–∫–∞ (—Å–∏–ª–∞ Carbon) –∏ —â–∏—Ç–∞ (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å Rust).
    
- **–°–ª–æ–≥–∞–Ω**: –ù–∞–ø—Ä–∏–º–µ—Ä,¬†_¬´Carbide: Speed of Carbon, Safety of Rust¬ª_.
    

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ, –º–æ–≥—É –ø–æ–º–æ—á—å –Ω–∞–±—Ä–æ—Å–∞—Ç—å –∫–æ–Ω—Ü–µ–ø—Ç –ª–æ–≥–æ –∏–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –ø–æ–¥ —ç—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ. üòä

**–ü—É—Å—Ç—å Carbide —Å—Ç–∞–Ω–µ—Ç –Ω–æ–≤—ã–º —ç—Ç–∞–ª–æ–Ω–æ–º –≤ –º–∏—Ä–µ —è–∑—ã–∫–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è!**¬†üíªüî•

–ú–æ–∂–µ—à—å –ø–æ–¥—Å–∫–∞–∑–∞—Ç—å –∫–∞–∫ –Ω–∞—á–∞—Ç—å —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –¥–ª—è —è–∑—ã–∫–∞?

–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ ‚Äî —ç—Ç–æ —Å–ª–æ–∂–Ω–∞—è, –Ω–æ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–∞—è –∑–∞–¥–∞—á–∞. –í–æ—Ç¬†**–ø–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω**¬†–¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ Carbide, —Å–æ—á–µ—Ç–∞—é—â–µ–≥–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å Rust –∏ —Å–∫–æ—Ä–æ—Å—Ç—å Carbon.

---

## **1. –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –∫–ª—é—á–µ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —è–∑—ã–∫–∞**

–ü–µ—Ä–µ–¥ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ–º –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ —á—ë—Ç–∫–æ —Å—Ñ–æ—Ä–º—É–ª–∏—Ä—É–π—Ç–µ:

- **–°–∏–Ω—Ç–∞–∫—Å–∏—Å**¬†(–Ω–∞–ø—Ä–∏–º–µ—Ä,¬†`fn main() {}`¬†–∏–ª–∏¬†`func main() {}`).
    
- **–°–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤**¬†(—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è/–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ generics).
    
- **–ú–æ–¥–µ–ª—å –ø–∞–º—è—Ç–∏**¬†(ownership –∫–∞–∫ –≤ Rust, GC, —Ä—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ).
    
- **–¶–µ–ª–µ–≤—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã**¬†(x86-64, ARM, WASM).
    
- **–≠—Ç–∞–ø—ã –∫–æ–º–ø–∏–ª—è—Ü–∏–∏**¬†(–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä, JIT –∏–ª–∏ AOT).
    

---

## **2. –í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**

### **–í–∞—Ä–∏–∞–Ω—Ç—ã –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞:**

|–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç|–ü–ª—é—Å—ã|–ú–∏–Ω—É—Å—ã|–ö–æ–≥–¥–∞ –≤—ã–±–∏—Ä–∞—Ç—å?|
|---|---|---|---|
|**Rust**|–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, —Å–∫–æ—Ä–æ—Å—Ç—å|–°–ª–æ–∂–Ω–µ–µ FFI —Å C|–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å|
|**C++**|–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å|–†–∏—Å–∫ UB, —Å–ª–æ–∂–Ω—ã–π –∫–æ–¥|–î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏|
|**LLVM**|–ì–æ—Ç–æ–≤—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏, –∫—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å|–ë–æ–ª—å—à–æ–π –≤—Ö–æ–¥–Ω–æ–π –ø–æ—Ä–æ–≥|–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–≥–∏—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä|
|**OCaml**¬†(–∏–ª–∏ Haskell)|–ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è|–ú–µ–¥–ª–µ–Ω–Ω—ã–π runtime|–î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ MVP|

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ¬†**Rust + LLVM**¬†(–∫–∞–∫ —É Rust), –µ—Å–ª–∏ –≤–∞–∂–Ω—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.
    
- –ï—Å–ª–∏ —Ü–µ–ª—å ‚Äî¬†**–±—ã—Å—Ç—Ä—ã–π –ø—Ä–æ—Ç–æ—Ç–∏–ø**, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ¬†**OCaml**¬†(–∫–∞–∫ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º Rust) –∏–ª–∏¬†**Python**¬†(—Å Lark/RPLY –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞).
    

---

## **3. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞**

–¢–∏–ø–∏—á–Ω—ã–µ —ç—Ç–∞–ø—ã –∫–æ–º–ø–∏–ª—è—Ü–∏–∏:

1. **–õ–µ–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑**¬†‚Üí –†–∞–∑–±–∏–µ–Ω–∏–µ –∫–æ–¥–∞ –Ω–∞ —Ç–æ–∫–µ–Ω—ã (`fn`,¬†`main`,¬†`(`).
    
    - –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:¬†`lex`,¬†`flex`, —Ä—É—á–Ω–æ–π –ø–∞—Ä—Å–µ—Ä.
        
2. **–°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑**¬†‚Üí –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ AST (–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –¥–µ—Ä–µ–≤–∞).
    
    - –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:¬†`yacc`,¬†`bison`, ANTLR, Lark.
        
3. **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑**¬†‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤, –æ–±–ª–∞—Å—Ç–µ–π –≤–∏–¥–∏–º–æ—Å—Ç–∏.
    
4. **–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ**¬†(IR) ‚Üí –ù–∞–ø—Ä–∏–º–µ—Ä, LLVM IR –∏–ª–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π IR.
    
5. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**¬†‚Üí –£–¥–∞–ª–µ–Ω–∏–µ –º—ë—Ä—Ç–≤–æ–≥–æ –∫–æ–¥–∞, –∏–Ω–ª–∞–π–Ω–∏–Ω–≥.
    
6. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞**¬†‚Üí –ú–∞—à–∏–Ω–Ω—ã–π –∫–æ–¥, WASM –∏–ª–∏ JIT.
    

**–ü—Ä–∏–º–µ—Ä –¥–ª—è Carbide:**

text

Copy

Download

source.crb ‚Üí –õ–µ–∫—Å–µ—Ä ‚Üí –¢–æ–∫–µ–Ω—ã ‚Üí –ü–∞—Ä—Å–µ—Ä ‚Üí AST ‚Üí –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ ‚Üí LLVM IR ‚Üí –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ ‚Üí x86-64 binary

---

## **4. –ü—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏–µ (MVP)**

–ù–∞—á–Ω–∏—Ç–µ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–±–æ—á–µ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞:

1. **–õ–µ–∫—Å–µ—Ä**:
    
    - –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è —Ç–æ–∫–µ–Ω–æ–≤ (`let`,¬†`=`,¬†`123`).
        
    - –ü—Ä–∏–º–µ—Ä –Ω–∞ Rust:
        
        rust
        
        Copy
        
        Download
        
        enum Token {
            KeywordLet,
            Ident(String),
            Number(i64),
            Eq,
        }
        
2. **–ü–∞—Ä—Å–µ—Ä**:
    
    - –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π —Å–ø—É—Å–∫ –∏–ª–∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä—Å–µ—Ä–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä,¬†`nom`¬†–¥–ª—è Rust).
        
3. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞**:
    
    - –°–Ω–∞—á–∞–ª–∞ –≤ —É–ø—Ä–æ—â—ë–Ω–Ω—ã–π IR, –ø–æ—Ç–æ–º –≤ LLVM.
        

**–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä:**

rust

Copy

Download

// –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ Carbide: let x = 42
// AST:
Let {
    name: "x",
    value: Expr::Number(42),
}

---

## **5. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LLVM**

LLVM —É–ø—Ä–æ—â–∞–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –º–∞—à–∏–Ω–Ω–æ–≥–æ –∫–æ–¥–∞.  
**–®–∞–≥–∏:**

1. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ¬†**LLVM IR**¬†–∏–∑ AST.
    
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ¬†**–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**¬†(–Ω–∞–ø—Ä–∏–º–µ—Ä,¬†`-O3`).
    
3. –°–∫–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ IR –≤ –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª.
    

**–ü—Ä–∏–º–µ—Ä –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ IR:**

llvm

Copy

Download

define i32 @main() {
    ret i32 42
}

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**

- –î–ª—è Rust: –∫—Ä–µ–π—Ç¬†`llvm-sys`¬†–∏–ª–∏¬†`inkwell`.
    
- –î–ª—è C++: –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π C++ API LLVM.
    

---

## **6. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞**

1. **–Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã**¬†–¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏.
    
2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã**¬†(–ø—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º).
    
3. **Fuzzing**¬†(–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å¬†`cargo-fuzz`¬†–¥–ª—è Rust).
    

**–ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∞:**

rust

Copy

Download

#[test]
fn test_lexer() {
    let tokens = lex("let x = 42");
    assert_eq!(tokens[0], Token::KeywordLet);
}

---

## **7. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ**

1. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**:
    
    - –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è —è–∑—ã–∫–∞ (—Ñ–æ—Ä–º–∞–ª—å–Ω–∞—è –≥—Ä–∞–º–º–∞—Ç–∏–∫–∞).
        
    - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤.
        
2. **–°–æ–æ–±—â–µ—Å—Ç–≤–æ**:
    
    - –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏.
        
    - Discord/—Ñ–æ—Ä—É–º –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è.
        

---

## **–ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã**

- –ö–Ω–∏–≥–∏:
    
    - _¬´Compilers: Principles, Techniques, and Tools¬ª_¬†(Dragon Book).
        
    - _¬´Crafting Interpreters¬ª_¬†(Robert Nystrom).
        
- –ö—É—Ä—Å—ã:
    
    - [CS6120 (Cornell)](https://www.cs.cornell.edu/courses/cs6120/2020fa/).
        
- –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–≤:
    
    - [Rustc](https://github.com/rust-lang/rust).
        
    - [Carbon](https://github.com/carbon-language/carbon-lang).
        

---

### **–ß—Ç–æ –¥–∞–ª—å—à–µ?**

1. –ù–∞—á–Ω–∏—Ç–µ —Å¬†**–ª–µ–∫—Å–µ—Ä–∞/–ø–∞—Ä—Å–µ—Ä–∞**¬†–¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π (`1 + 2`).
    
2. –î–æ–±–∞–≤—å—Ç–µ¬†**–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Ñ—É–Ω–∫—Ü–∏–∏**.
    
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ¬†**LLVM**¬†–¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞.
    

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ, –º–æ–≥—É –ø–æ–º–æ—á—å —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–æ–¥–∞ –¥–ª—è –ª—é–±–æ–≥–æ –∏–∑ —ç—Ç–∞–ø–æ–≤. –£–¥–∞—á–∏ —Å¬†**Carbide**! üöÄ